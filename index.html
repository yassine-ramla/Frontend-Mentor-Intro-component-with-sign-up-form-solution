<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png" />
    <link rel="stylesheet" href="./dist/output.css" />
    <title>Frontend Mentor | Intro component with sign up form</title>
  </head>
  <body
    class="min-h-100svh w-screen bg-intro-mobile bg-center bg-myRed flex flex-col justify-center items-center gap-y-5 px-0.05 py-16 font-poppins lg:flex-row lg:gap-x-12">
    <header
      class="w-full max-w-xl flex flex-col justify-center items-center gap-6 text-center lg:text-left py-4">
      <h1 class="text-white font-bold text-3xl lg:text-5xl">
        Learn to code by watching others
      </h1>
      <p class="text-white text-lg">
        See how experienced developers solve problems in real-time. Watching
        scripted tutorials is great, but understanding how developers think is
        invaluable.
      </p>
    </header>
    <main
      class="w-full max-w-xl flex flex-col justify-center items center gap-6">
      <section
        class="w-full py-5 px-16 rounded-lg bg-myBlue text-white text-center shadow-custom">
        <h2>
          <span class="font-bold">Try it free 7 days</span> then $20/mo.
          thereafter
        </h2>
      </section>
      <form
        class="w-full bg-white rounded-lg flex flex-col gap-4 justify-center items center p-5 lg:p-9 shadow-custom"
        action=".">
        <input
          id="firstName"
          type="text"
          class="w-full px-3 lg:px-8 py-3 lg:py-4 text-myDarkBlue outline-none border rounded-md focus:border-myBlue"
          placeholder="First Name"
          name="firstName" />
        <label
          for="firstName"
          class="italic hidden error-msg text-xs relative -top-2 text-right text-myRed after:content-[''] after:absolute after:w-6 after:h-6 after:bg-error-sign after:bg-no-repeat after:bg-cover after:-top-11 after:right-4">
        </label>
        <input
          type="text"
          id="lastName"
          class="w-full px-3 lg:px-8 py-3 lg:py-4 text-myDarkBlue outline-none border rounded-md focus:border-myBlue"
          placeholder="Last Name"
          name="lastName" />
        <label
          for="lastName"
          class="italic hidden error-msg text-xs relative -top-2 text-right text-myRed after:content-[''] after:absolute after:w-6 after:h-6 after:bg-error-sign after:bg-no-repeat after:bg-cover after:-top-11 after:right-4">
        </label>
        <input
          type="email"
          id="email"
          class="w-full px-3 lg:px-8 py-3 lg:py-4 text-myDarkBlue outline-none border rounded-md focus:border-myBlue"
          placeholder="Email Address"
          name="email"
          required />
        <label
          for="email"
          class="italic hidden error-msg text-xs relative -top-2 text-right text-myRed after:content-[''] after:absolute after:w-6 after:h-6 after:bg-error-sign after:bg-no-repeat after:bg-cover after:-top-11 after:right-4">
        </label>
        <input
          type="password"
          id="password"
          class="w-full px-3 lg:px-8 py-3 lg:py-4 text-myDarkBlue outline-none border rounded-md focus:border-myBlue"
          placeholder="Password"
          name="password" />
        <label
          for="password"
          class="italic hidden error-msg text-xs relative -top-2 text-right text-myRed after:content-[''] after:absolute after:w-6 after:h-6 after:bg-error-sign after:bg-no-repeat after:bg-cover after:-top-11 after:right-4">
        </label>
        <button
          type="submit"
          id="submit"
          class="w-full p-4 rounded-md bg-myGreen text-white font-bold tracking-wide uppercase border-b-4 border-green-500 hover:bg-green-300">
          claim your free trial
        </button>
        <strong class="px-4 text-center text-xs text-myGrayishBlue font-normal">
          By clicking the button, you are agreeing to our<span
            class="font-bold text-myRed cursor-pointer">
            Terms and Services
          </span>
        </strong>
      </form>
    </main>
  </body>
  <script>
    const submit = document.getElementById("submit");
    submit.addEventListener("click", (event) => {
      const inputs = [firstName, lastName, password];
      const map = new Map([
        ["firstName", "First Name"],
        ["lastName", "Last Name"],
        ["password", "Password"],
      ]);
      const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
      if (!regex.test(email.value)) {
        event.preventDefault();
        email.classList.add("border-myRed");
        email.classList.add("text-myRed");
        email.classList.add("placeholder:text-myRed");
        email.nextElementSibling.innerText =
          email.value.length === 0
            ? "Email cannot be empty"
            : "Looks like this is not a an email";
        email.nextElementSibling.classList.remove("hidden");
      } else {
        email.classList.remove("border-myRed");
        email.classList.remove("placeholder:text-myRed");
        email.nextElementSibling.innerText = "";
        email.nextElementSibling.classList.add("hidden");
      }
      inputs.forEach((input) => {
        const nextSibling = input.nextElementSibling;
        if (input.value.length === 0) {
          event.preventDefault();
          input.classList.add("border-myRed");
          input.classList.add("placeholder:text-myRed");
          nextSibling.innerText = `${map.get(input.name)} cannot be empty`;
          nextSibling.classList.remove("hidden");
        } else {
          input.classList.remove("border-myRed");
          input.classList.remove("placeholder:text-myRed");
          nextSibling.innerText = "";
          nextSibling.classList.add("hidden");
        }
      });
    });
  </script>
</html>
